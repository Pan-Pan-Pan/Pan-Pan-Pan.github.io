<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Linux 系统编程｜补充与进阶 | Riccardo's Blog</title><meta name="author" content="Chou,1425650574@qq.com"><meta name="copyright" content="Chou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Linux 系统编程第二章 补充与进阶2.1 Linux 常用命令补充：根目录结构    目录名称 内容     &#x2F;bin 用户可执行文件，如ps ls ping等   &#x2F;sbin 系统管理所用的可执行文件   &#x2F;etc 所有程序需要的配置文件   &#x2F;dev 设备文件   &#x2F;proc 虚拟的文件系统，包含系统进程的相关信息   &#x2F;var 变量文件，如系统日志、数据库文件等   &#x2F;tmp 系统和用户">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux 系统编程｜补充与进阶">
<meta property="og:url" content="http://pan-pan-pan.github.io/2023/01/15/SP02/index.html">
<meta property="og:site_name" content="Riccardo&#39;s Blog">
<meta property="og:description" content="Linux 系统编程第二章 补充与进阶2.1 Linux 常用命令补充：根目录结构    目录名称 内容     &#x2F;bin 用户可执行文件，如ps ls ping等   &#x2F;sbin 系统管理所用的可执行文件   &#x2F;etc 所有程序需要的配置文件   &#x2F;dev 设备文件   &#x2F;proc 虚拟的文件系统，包含系统进程的相关信息   &#x2F;var 变量文件，如系统日志、数据库文件等   &#x2F;tmp 系统和用户">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://pan-pan-pan.github.io/img/background.jpg">
<meta property="article:published_time" content="2023-01-15T08:15:25.000Z">
<meta property="article:modified_time" content="2023-02-28T02:50:43.883Z">
<meta property="article:author" content="Chou">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://pan-pan-pan.github.io/img/background.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://pan-pan-pan.github.io/2023/01/15/SP02/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux 系统编程｜补充与进阶',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2023-02-28 10:50:43'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/img.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> Photos</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/background.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Riccardo's Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> Photos</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Linux 系统编程｜补充与进阶</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-15T08:15:25.000Z" title="发表于 2023-01-15 16:15:25">2023-01-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-02-28T02:50:43.883Z" title="更新于 2023-02-28 10:50:43">2023-02-28</time></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Linux-系统编程"><a href="#Linux-系统编程" class="headerlink" title="Linux 系统编程"></a>Linux 系统编程</h1><h2 id="第二章-补充与进阶"><a href="#第二章-补充与进阶" class="headerlink" title="第二章 补充与进阶"></a>第二章 补充与进阶</h2><h3 id="2-1-Linux-常用命令"><a href="#2-1-Linux-常用命令" class="headerlink" title="2.1 Linux 常用命令"></a>2.1 Linux 常用命令</h3><h4 id="补充：根目录结构"><a href="#补充：根目录结构" class="headerlink" title="补充：根目录结构"></a>补充：根目录结构</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">目录名称</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>/bin</strong></td>
<td>用户可执行文件，如<code>ps</code> <code>ls</code> <code>ping</code>等</td>
</tr>
<tr>
<td style="text-align:center"><strong>/sbin</strong></td>
<td>系统管理所用的可执行文件</td>
</tr>
<tr>
<td style="text-align:center"><strong>/etc</strong></td>
<td>所有程序需要的配置文件</td>
</tr>
<tr>
<td style="text-align:center"><strong>/dev</strong></td>
<td>设备文件</td>
</tr>
<tr>
<td style="text-align:center"><strong>/proc</strong></td>
<td>虚拟的文件系统，包含系统进程的相关信息</td>
</tr>
<tr>
<td style="text-align:center"><strong>/var</strong></td>
<td>变量文件，如系统日志、数据库文件等</td>
</tr>
<tr>
<td style="text-align:center"><strong>/tmp</strong></td>
<td>系统和用户创建的临时文件</td>
</tr>
<tr>
<td style="text-align:center"><strong>/usr</strong></td>
<td>用户程序</td>
</tr>
<tr>
<td style="text-align:center"><strong>/home</strong></td>
<td>用户个人文档</td>
</tr>
<tr>
<td style="text-align:center"><strong>/boot</strong></td>
<td>引导加载程序的相关文件</td>
</tr>
<tr>
<td style="text-align:center"><strong>/lib</strong></td>
<td>系统库</td>
</tr>
<tr>
<td style="text-align:center"><strong>/opt</strong></td>
<td>可选的附加应用程序</td>
</tr>
<tr>
<td style="text-align:center"><strong>/mnt</strong></td>
<td>临时安装目录，用于挂载文件系统</td>
</tr>
<tr>
<td style="text-align:center"><strong>/media</strong></td>
<td>可移动媒体设备目录，用于挂载 CD-ROM 等设备的临时目录</td>
</tr>
<tr>
<td style="text-align:center"><strong>/srv</strong></td>
<td>服务器特定服务的数据</td>
</tr>
</tbody>
</table>
</div>
<h4 id="一、文件系统相关命令"><a href="#一、文件系统相关命令" class="headerlink" title="一、文件系统相关命令"></a>一、文件系统相关命令</h4><h5 id="列出内容"><a href="#列出内容" class="headerlink" title="列出内容"></a>列出内容</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span>         <span class="comment"># 列出当前目录的内容  </span></span><br><span class="line"><span class="built_in">ls</span> -a /etc <span class="comment"># 列出 /etc 所有内容(包括隐藏文件)</span></span><br><span class="line"><span class="built_in">ls</span> -l ~    <span class="comment"># 列出 ~ 内容的详细信息</span></span><br></pre></td></tr></table></figure>
<h5 id="查看当前目录"><a href="#查看当前目录" class="headerlink" title="查看当前目录"></a>查看当前目录</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">pwd</span></span><br></pre></td></tr></table></figure>
<h5 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> bin              <span class="comment"># 在当前目录下创建子目录 bin</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /tmp/me/test  <span class="comment"># 递归创建目录</span></span><br></pre></td></tr></table></figure>
<h5 id="切换工作目录"><a href="#切换工作目录" class="headerlink" title="切换工作目录"></a>切换工作目录</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local <span class="comment"># 切换到指定路径</span></span><br><span class="line"><span class="built_in">cd</span> ..         <span class="comment"># 切换到父目录</span></span><br><span class="line"><span class="built_in">cd</span> -          <span class="comment"># 切换到上一个所在的目录</span></span><br></pre></td></tr></table></figure>
<h5 id="删除空目录"><a href="#删除空目录" class="headerlink" title="删除空目录"></a>删除空目录</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rmdir</span> /tmp/mytmp <span class="comment"># 删除空白目录</span></span><br></pre></td></tr></table></figure>
<h5 id="拷贝"><a href="#拷贝" class="headerlink" title="拷贝"></a>拷贝</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> /etc/passwd ~/Desktop     <span class="comment"># 将文件 /etc/passwd 复制到 ～/Desktop 下</span></span><br><span class="line"><span class="built_in">cp</span> -r /tmp/test /root        <span class="comment"># 将目录 /tmp/test 复制到 /root 下</span></span><br><span class="line"><span class="built_in">cp</span> -rp /tmp/t1 /tmp/t2 /root <span class="comment"># 将目录 /tmp/t1 和 /tmp/t2 复制到 /root 下，保留原有属性</span></span><br></pre></td></tr></table></figure>
<h5 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> a.c             <span class="comment"># 删除当前目录下的 a.c</span></span><br><span class="line"><span class="built_in">rm</span> -f /tmp/log.txt <span class="comment"># 强制删除</span></span><br><span class="line"><span class="built_in">rm</span> -rf /tmp/test   <span class="comment"># 强制删除目录</span></span><br></pre></td></tr></table></figure>
<h4 id="二、文件处理命令"><a href="#二、文件处理命令" class="headerlink" title="二、文件处理命令"></a>二、文件处理命令</h4><h5 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> a.cpp</span><br><span class="line"><span class="built_in">touch</span> /tmp/errlog.txt</span><br></pre></td></tr></table></figure>
<h5 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/passwd</span><br><span class="line"><span class="built_in">cat</span> -n /etc/passwd <span class="comment"># 显示行号</span></span><br></pre></td></tr></table></figure>
<h5 id="分屏查看文件"><a href="#分屏查看文件" class="headerlink" title="分屏查看文件"></a>分屏查看文件</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">more a.txt</span><br><span class="line">less a.txt</span><br></pre></td></tr></table></figure>
<h5 id="取首尾-n-行内容"><a href="#取首尾-n-行内容" class="headerlink" title="取首尾 n 行内容"></a>取首尾 n 行内容</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">head</span> -n 10 /etc/passwd</span><br><span class="line"><span class="built_in">tail</span> -n 15 /etc/passwd</span><br></pre></td></tr></table></figure>
<h5 id="统计文本"><a href="#统计文本" class="headerlink" title="统计文本"></a>统计文本</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">wc</span> /etc/passwd    <span class="comment"># 输出行数、单词数、字节数、文件名</span></span><br><span class="line"><span class="built_in">wc</span> -l /etc/passwd <span class="comment"># 统计行数</span></span><br><span class="line"><span class="built_in">wc</span> -w /etc/passwd <span class="comment"># 统计单词数</span></span><br><span class="line"><span class="built_in">wc</span> -m /etc/passwd <span class="comment"># 统计字符数</span></span><br><span class="line"><span class="built_in">wc</span> -c /etc/passwd <span class="comment"># 统计字节数</span></span><br></pre></td></tr></table></figure>
<h5 id="创建链接"><a href="#创建链接" class="headerlink" title="创建链接"></a>创建链接</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> hello.c hello.hl    <span class="comment"># 创建硬链接</span></span><br><span class="line"><span class="built_in">ln</span> -s hello.c hello.sl <span class="comment"># 创建软链接</span></span><br></pre></td></tr></table></figure>
<h5 id="创建命名管道"><a href="#创建命名管道" class="headerlink" title="创建命名管道"></a>创建命名管道</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkfifo</span> s.pipe</span><br></pre></td></tr></table></figure>
<h4 id="三、权限管理命令"><a href="#三、权限管理命令" class="headerlink" title="三、权限管理命令"></a>三、权限管理命令</h4><h5 id="修改权限"><a href="#修改权限" class="headerlink" title="修改权限"></a>修改权限</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 421 testfile   <span class="comment"># 赋予文件 testfile 所有者读，所属组写，其他用户执行的权限</span></span><br><span class="line"><span class="built_in">chmod</span> -R 660 testdir <span class="comment"># 递归地赋予目录 testdir 所有者、所属组读写的权限</span></span><br><span class="line"><span class="built_in">chmod</span> u+r testfile   <span class="comment"># 为文件 testfile 的所有者添加读权限</span></span><br><span class="line"><span class="built_in">chmod</span> g+w testfile   <span class="comment"># 为文件 testfile 的所属组添加写权限</span></span><br><span class="line"><span class="built_in">chmod</span> o+x testfile   <span class="comment"># 为其他用户添加对 testfile 的执行权限</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>补充：读写执行权限对于文件和目录的含义</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">权限</th>
<th style="text-align:center">对文件的含义</th>
<th style="text-align:center">对目录的含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">读权限</td>
<td style="text-align:center">可以查看文件内容</td>
<td style="text-align:center">可以列出目录内容</td>
</tr>
<tr>
<td style="text-align:center">写权限</td>
<td style="text-align:center">可以修改文件内容</td>
<td style="text-align:center">可以在其中创建文件</td>
</tr>
<tr>
<td style="text-align:center">可执行权限</td>
<td style="text-align:center">可以执行文件</td>
<td style="text-align:center">可以进入目录</td>
</tr>
</tbody>
</table>
</div>
<h5 id="修改文件所有者"><a href="#修改文件所有者" class="headerlink" title="修改文件所有者"></a>修改文件所有者</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chown</span> xiaoxingou test1 /tmp/test2 <span class="comment"># 将两个文件的所有者改成 xiaoxingou</span></span><br></pre></td></tr></table></figure>
<h5 id="修改文件所属组"><a href="#修改文件所属组" class="headerlink" title="修改文件所属组"></a>修改文件所属组</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chgrp</span> group1 text1 /tmp/text2 <span class="comment"># 将两个文件的所属组改为 gruop1</span></span><br></pre></td></tr></table></figure>
<h4 id="四、搜索相关命令"><a href="#四、搜索相关命令" class="headerlink" title="四、搜索相关命令"></a>四、搜索相关命令</h4><h5 id="查找文件"><a href="#查找文件" class="headerlink" title="查找文件"></a>查找文件</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># find [搜索范围] [匹配条件]</span></span><br><span class="line">find /etc -name init    <span class="comment"># 查找名为 init 的文件</span></span><br><span class="line">find /etc -name init\*  <span class="comment"># 查找名字以 init 开头的文件</span></span><br><span class="line">find /etc -name init??? <span class="comment"># 查找名字为 init 加上 3 个字符的文件</span></span><br><span class="line"></span><br><span class="line">find /etc -size +100M <span class="comment"># 查找大小超过 100M 的文件</span></span><br><span class="line">find /etc -size 60K   <span class="comment"># 查找大小为 60K 的文件</span></span><br><span class="line">find /etc -size -5G   <span class="comment"># 查找大小小于 5G 的文件</span></span><br><span class="line"></span><br><span class="line">find ~ -user abc  <span class="comment"># 查找属于用户 abc 的文件</span></span><br><span class="line">find ~ -group abc <span class="comment"># 查找属于组 abc 的文件</span></span><br><span class="line"></span><br><span class="line">find /etc -atime -5s  <span class="comment"># 查找访问时间小于 5s 的文件</span></span><br><span class="line">find /etc -atime -20m <span class="comment"># 查找访问实现小于 20min 的文件</span></span><br><span class="line">find /etc -ctime +6h  <span class="comment"># 查找修改权限时间超过 6h 的文件</span></span><br><span class="line">find /etc -mtime +10d <span class="comment"># 查找修改内容时间超过 10 天的文件</span></span><br><span class="line">find /etc -mtime -4w  <span class="comment"># 查找修改内容时间小于 4 周的文件</span></span><br><span class="line"></span><br><span class="line">find ~ -name <span class="built_in">test</span>\* -a -<span class="built_in">type</span> f <span class="comment"># 查找名字以 test 开头且类型为普通文件的文件</span></span><br><span class="line">find ~ -<span class="built_in">type</span> d -o -<span class="built_in">type</span> l      <span class="comment"># 查找类型为目录或软链接的文件</span></span><br></pre></td></tr></table></figure>
<h5 id="查看命令所在目录及别名信息"><a href="#查看命令所在目录及别名信息" class="headerlink" title="查看命令所在目录及别名信息"></a>查看命令所在目录及别名信息</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>
<h5 id="查看命令所在位置及帮助文档路径"><a href="#查看命令所在位置及帮助文档路径" class="headerlink" title="查看命令所在位置及帮助文档路径"></a>查看命令所在位置及帮助文档路径</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whereis <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>
<h5 id="文本搜索-过滤"><a href="#文本搜索-过滤" class="headerlink" title="文本搜索(过滤)"></a>文本搜索(过滤)</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">grep root a.txt          <span class="comment"># 查找包含 &quot;root&quot; 的行</span></span><br><span class="line">grep -c root a.txt       <span class="comment"># 统计包含 &quot;root&quot; 的总行数</span></span><br><span class="line">grep -i RoOt a.txt       <span class="comment"># 不区分大小写查找</span></span><br><span class="line">grep -n root a.txt       <span class="comment"># 查找包含 &quot;root&quot; 的行并打印行号行号</span></span><br><span class="line">grep -v root a.txt       <span class="comment"># 查找不包含 &quot;root&quot; 的行</span></span><br><span class="line">grep -E <span class="string">&quot;123.[45]&quot;</span> a.txt <span class="comment"># 查找包含 &#123;&quot;123.&quot; 并紧跟 &quot;4&quot; 或 &quot;5&quot;&#125; 的行  ** -E 表示启用正则表达式 **</span></span><br><span class="line">grep -E -v <span class="string">&quot;^123&quot;</span> a.txt  <span class="comment"># 查找行首不是 &quot;123&quot; 的行</span></span><br><span class="line">grep -E <span class="string">&quot;^[Rr]oot&quot;</span> a.txt <span class="comment"># 查找以 &quot;Root&quot; 或 &quot;root&quot; 开头的行</span></span><br><span class="line">grep -E <span class="string">&quot;r..t&quot;</span> a.txt     <span class="comment"># 查找包含 &#123;&quot;r&quot; 紧跟任意两字符随后紧跟 &quot;t&quot;&#125; 的行</span></span><br><span class="line">grep -E <span class="string">&quot;w\&#123;2,\&#125;&quot;</span> a.txt  <span class="comment"># 查找 &quot;w&quot; 连续出现两次或以上的行</span></span><br><span class="line">grep -E <span class="string">&quot;w\&#123;3,5\&#125;&quot;</span> a.txt <span class="comment"># 查找 &quot;w&quot; 连续出现三次或五次的行</span></span><br><span class="line">grep -n -E <span class="string">&quot;^$&quot;</span> a.txt    <span class="comment"># 查找空行并输出行号</span></span><br></pre></td></tr></table></figure>
<h4 id="五、帮助命令"><a href="#五、帮助命令" class="headerlink" title="五、帮助命令"></a>五、帮助命令</h4><h5 id="查看文档"><a href="#查看文档" class="headerlink" title="查看文档"></a>查看文档</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">man man        <span class="comment"># 查看 man 命令文档</span></span><br><span class="line">man <span class="built_in">ls</span>         <span class="comment"># 查看 ls 命令文档</span></span><br><span class="line">man 2 write    <span class="comment"># 在编号为 2 的系统调用手册里查看 write 函数文档</span></span><br><span class="line">man 3 sem_init <span class="comment"># 在编号为 3 的 C 库函数手册里查看 sen_init 函数文档</span></span><br></pre></td></tr></table></figure>
<h5 id="获取简介"><a href="#获取简介" class="headerlink" title="获取简介"></a>获取简介</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whatis <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>
<h5 id="查看详细信息"><a href="#查看详细信息" class="headerlink" title="查看详细信息"></a>查看详细信息</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>
<h4 id="六、用户管理命令"><a href="#六、用户管理命令" class="headerlink" title="六、用户管理命令"></a>六、用户管理命令</h4><h5 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd username</span><br></pre></td></tr></table></figure>
<h5 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd username</span><br></pre></td></tr></table></figure>
<h5 id="查看登录用户信息"><a href="#查看登录用户信息" class="headerlink" title="查看登录用户信息"></a>查看登录用户信息</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">who</span></span><br></pre></td></tr></table></figure>
<h5 id="查看登录用户详细信息"><a href="#查看登录用户详细信息" class="headerlink" title="查看登录用户详细信息"></a>查看登录用户详细信息</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">w</span><br></pre></td></tr></table></figure>
<h5 id="查看历史登录信息"><a href="#查看历史登录信息" class="headerlink" title="查看历史登录信息"></a>查看历史登录信息</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">last</span><br></pre></td></tr></table></figure>
<h5 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">su            <span class="comment"># 切换到 root 用户</span></span><br><span class="line">su root       <span class="comment"># 切换到 root 用户</span></span><br><span class="line">su -          <span class="comment"># 切换到 root 用户并把目录切换到 /root</span></span><br><span class="line">su - root     <span class="comment"># 切换到 root 用户并把目录切换到 /root</span></span><br><span class="line">su somebody   <span class="comment"># 切换到普通用户 somebody</span></span><br><span class="line">su - somebody <span class="comment"># 切换到普通用户 somebody 并把目录切换到其所在目录</span></span><br></pre></td></tr></table></figure>
<h4 id="七、压缩与解压缩命令"><a href="#七、压缩与解压缩命令" class="headerlink" title="七、压缩与解压缩命令"></a>七、压缩与解压缩命令</h4><h5 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gzip testfile <span class="comment"># 压缩 testfile 生成 testfile.gz(不能压缩目录)</span></span><br><span class="line"></span><br><span class="line">zip testfile.zip testfile  <span class="comment"># 压缩文件</span></span><br><span class="line">zip -r testdir.zip testdir <span class="comment"># 压缩目录</span></span><br></pre></td></tr></table></figure>
<h5 id="解压缩"><a href="#解压缩" class="headerlink" title="解压缩"></a>解压缩</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gunzip test.gz</span><br><span class="line"></span><br><span class="line">unzip test.zip</span><br></pre></td></tr></table></figure>
<h5 id="归档"><a href="#归档" class="headerlink" title="归档"></a>归档</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -zcf testdir testdir.tar.gz  <span class="comment"># -c 打包，-z 打包并压缩，-f 指定文件名</span></span><br><span class="line">tar -zxvf testdir.tar.gz testdir <span class="comment"># -x 解包，-z 解压缩，-v 输出详细信息，-f 指定文件名</span></span><br></pre></td></tr></table></figure>
<h4 id="八、网络相关命令"><a href="#八、网络相关命令" class="headerlink" title="八、网络相关命令"></a>八、网络相关命令</h4><h5 id="发送信息"><a href="#发送信息" class="headerlink" title="发送信息"></a>发送信息</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">write xiaoxingou <span class="comment"># 给用户 xiaoxingou 发送信息，以 control + D 保存结束</span></span><br></pre></td></tr></table></figure>
<h5 id="广播"><a href="#广播" class="headerlink" title="广播"></a>广播</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wall Hello <span class="comment"># 给所有用户发送信息 Hello</span></span><br></pre></td></tr></table></figure>
<h5 id="测试网络连通性"><a href="#测试网络连通性" class="headerlink" title="测试网络连通性"></a>测试网络连通性</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping baidu.com      <span class="comment"># 持续测试</span></span><br><span class="line">ping -c 5 baidu.com <span class="comment"># 测试五次</span></span><br></pre></td></tr></table></figure>
<h5 id="查看和设置网卡信息"><a href="#查看和设置网卡信息" class="headerlink" title="查看和设置网卡信息"></a>查看和设置网卡信息</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig</span><br></pre></td></tr></table></figure>
<h5 id="查看网络信息"><a href="#查看网络信息" class="headerlink" title="查看网络信息"></a>查看网络信息</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">netstat</span><br><span class="line"><span class="comment"># -t  TCP 协议</span></span><br><span class="line"><span class="comment"># -u  UDP 协议</span></span><br><span class="line"><span class="comment"># -l  监听</span></span><br><span class="line"><span class="comment"># -r  路由</span></span><br><span class="line"><span class="comment"># -n  显示 IP 地址和端口号</span></span><br><span class="line">netstat -ltun <span class="comment"># 查看本机监听的端口</span></span><br><span class="line">netstat -an   <span class="comment"># 查看本机所有的网络连接</span></span><br><span class="line">netstat -rn   <span class="comment"># 查看本机的路由表</span></span><br></pre></td></tr></table></figure>
<h4 id="九、系统相关命令"><a href="#九、系统相关命令" class="headerlink" title="九、系统相关命令"></a>九、系统相关命令</h4><h5 id="打印当前时间"><a href="#打印当前时间" class="headerlink" title="打印当前时间"></a>打印当前时间</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span></span><br></pre></td></tr></table></figure>
<h5 id="打印日历"><a href="#打印日历" class="headerlink" title="打印日历"></a>打印日历</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cal         <span class="comment"># 打印本月日历</span></span><br><span class="line">cal 10 2003 <span class="comment"># 打印 2003 年 10 月的日历</span></span><br><span class="line">cal 2020    <span class="comment"># 打印 2020 年的日历</span></span><br></pre></td></tr></table></figure>
<h5 id="关机"><a href="#关机" class="headerlink" title="关机"></a>关机</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shutdown -h now   <span class="comment"># 立即关机</span></span><br><span class="line">shutdown -h +10   <span class="comment"># 10 分钟后关机</span></span><br><span class="line">shutdonw -h 23:30 <span class="comment"># 特定时间关机</span></span><br></pre></td></tr></table></figure>
<h5 id="立即关机"><a href="#立即关机" class="headerlink" title="立即关机"></a>立即关机</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poweroff</span><br></pre></td></tr></table></figure>
<h5 id="立即重启"><a href="#立即重启" class="headerlink" title="立即重启"></a>立即重启</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>
<h3 id="2-2-vim-编辑器"><a href="#2-2-vim-编辑器" class="headerlink" title="2.2 vim 编辑器"></a>2.2 vim 编辑器</h3><h4 id="一、vim-的四种模式及其切换"><a href="#一、vim-的四种模式及其切换" class="headerlink" title="一、vim 的四种模式及其切换"></a>一、vim 的四种模式及其切换</h4><p><img src="/2023/01/15/SP02/截屏2023-01-12 16.43.33.png" alt="截屏2023-01-12 16.43.33" style="zoom:50%;"></p>
<h4 id="二、普通模式"><a href="#二、普通模式" class="headerlink" title="二、普通模式"></a>二、普通模式</h4><h5 id="光标移动"><a href="#光标移动" class="headerlink" title="光标移动"></a>光标移动</h5><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">h 或 [退格] 或 [左箭头]</td>
<td>左移一个字符</td>
</tr>
<tr>
<td style="text-align:center">j 或 [下箭头]</td>
<td>下移一行</td>
</tr>
<tr>
<td style="text-align:center">k 或 [上箭头]</td>
<td>上移一行</td>
</tr>
<tr>
<td style="text-align:center">l 或 [空格] 或 [右箭头]</td>
<td>右移一个字符</td>
</tr>
<tr>
<td style="text-align:center">w</td>
<td>移到下一个单词开头</td>
</tr>
<tr>
<td style="text-align:center">W</td>
<td>移到下一个单词开头，忽略一些标点</td>
</tr>
<tr>
<td style="text-align:center">b</td>
<td>移到上一个单词开头</td>
</tr>
<tr>
<td style="text-align:center">B</td>
<td>移到上一个单词开头，忽略一些标点</td>
</tr>
<tr>
<td style="text-align:center">+ 或 [Enter]</td>
<td>移到下一行第一个非空白字符处</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td>移到上一行第一个非空白字符处</td>
</tr>
<tr>
<td style="text-align:center">fc</td>
<td>移到同一行下一个字符 c 处</td>
</tr>
<tr>
<td style="text-align:center">Fc</td>
<td>移到同一行上一个字符 c 处</td>
</tr>
<tr>
<td style="text-align:center">tc</td>
<td>移到同一行下一个字符 c 前</td>
</tr>
<tr>
<td style="text-align:center">Tc</td>
<td>移到同一行上一个字符 c 前</td>
</tr>
<tr>
<td style="text-align:center">;</td>
<td>配合 f 或 t 使用，重复一次</td>
</tr>
<tr>
<td style="text-align:center">,</td>
<td>配合 f 或 t 使用，反向重复一次</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>上述输入均可配合数字使用，先输入一个数字 n，再输入该内容，表示重复操作 n 次。</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0 或 ^</td>
<td>移到行首</td>
</tr>
<tr>
<td style="text-align:center">$</td>
<td>移到行末</td>
</tr>
<tr>
<td style="text-align:center">gg</td>
<td>移到文件头</td>
</tr>
<tr>
<td style="text-align:center">G</td>
<td>移到文件尾部</td>
</tr>
<tr>
<td style="text-align:center">H</td>
<td>移到屏幕最顶端一行</td>
</tr>
<tr>
<td style="text-align:center">M</td>
<td>移到屏幕中间一行</td>
</tr>
<tr>
<td style="text-align:center">L</td>
<td>移到屏幕最底端一行</td>
</tr>
</tbody>
</table>
</div>
<h5 id="翻屏"><a href="#翻屏" class="headerlink" title="翻屏"></a>翻屏</h5><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">control + f</td>
<td>下翻一屏</td>
</tr>
<tr>
<td style="text-align:center">control + b</td>
<td>上翻一屏</td>
</tr>
<tr>
<td style="text-align:center">control +d</td>
<td>下翻半屏</td>
</tr>
<tr>
<td style="text-align:center">control + u</td>
<td>上翻半屏</td>
</tr>
<tr>
<td style="text-align:center">control + e</td>
<td>向下滚动一行</td>
</tr>
<tr>
<td style="text-align:center">control + y</td>
<td>向上滚动一行</td>
</tr>
<tr>
<td style="text-align:center">n%</td>
<td>滚动到文件 n% 的位置</td>
</tr>
<tr>
<td style="text-align:center">zz</td>
<td>将当前行移动到屏幕中央</td>
</tr>
<tr>
<td style="text-align:center">zt</td>
<td>将当前行移动到屏幕顶端</td>
</tr>
<tr>
<td style="text-align:center">zb</td>
<td>将当前行移动到屏幕底端</td>
</tr>
</tbody>
</table>
</div>
<h5 id="文本快速操作"><a href="#文本快速操作" class="headerlink" title="文本快速操作"></a>文本快速操作</h5><h6 id="复制"><a href="#复制" class="headerlink" title="复制"></a>复制</h6><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">y</td>
<td>复制可视化模式下选中的内容</td>
</tr>
<tr>
<td style="text-align:center">yy / nyy / yny</td>
<td>复制当前行 / 复制 n 行</td>
</tr>
<tr>
<td style="text-align:center">y^</td>
<td>复制当前到行首的内容</td>
</tr>
<tr>
<td style="text-align:center">y$</td>
<td>复制当前到行末的内容</td>
</tr>
<tr>
<td style="text-align:center">yh / ynh / nyh</td>
<td>复制左边字符 / 复制左边 n 个字符</td>
</tr>
<tr>
<td style="text-align:center">yl / nyl / ynl</td>
<td>复制右边字符 / 复制右边 n 个字符</td>
</tr>
<tr>
<td style="text-align:center">yw / nyw / ynw</td>
<td>复制当前单词 / 复制 n 个单词</td>
</tr>
<tr>
<td style="text-align:center">yG</td>
<td>复制到文件尾部</td>
</tr>
</tbody>
</table>
</div>
<h6 id="剪切-删除"><a href="#剪切-删除" class="headerlink" title="剪切(删除)"></a>剪切(删除)</h6><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">d</td>
<td>剪切可视化模式下选中的内容</td>
</tr>
<tr>
<td style="text-align:center">dd / ndd / dnd</td>
<td>剪切当前行 / 剪切 n 行</td>
</tr>
<tr>
<td style="text-align:center">d^</td>
<td>剪切当前到行首的内容</td>
</tr>
<tr>
<td style="text-align:center">d$</td>
<td>剪切当前到行末的内容</td>
</tr>
<tr>
<td style="text-align:center">x / dl / nx / ndl / dnl</td>
<td>剪切右边字符 / 剪切右边 n 个字符</td>
</tr>
<tr>
<td style="text-align:center">X / dh / nX / ndh / dnh</td>
<td>剪切左边字符 / 剪切左边 n 个字符</td>
</tr>
<tr>
<td style="text-align:center">dw / ndw / dnw</td>
<td>剪切当前单词 / 剪切 n 个单词</td>
</tr>
<tr>
<td style="text-align:center">dG</td>
<td>剪切到文件尾部</td>
</tr>
</tbody>
</table>
</div>
<h6 id="粘贴"><a href="#粘贴" class="headerlink" title="粘贴"></a>粘贴</h6><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">p</td>
<td>粘贴至光标后</td>
</tr>
<tr>
<td style="text-align:center">P</td>
<td>整行的复制粘贴到上一行 / 非整行的复制粘贴到光标前</td>
</tr>
</tbody>
</table>
</div>
<h6 id="撤销与重做"><a href="#撤销与重做" class="headerlink" title="撤销与重做"></a>撤销与重做</h6><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">u</td>
<td>撤销</td>
</tr>
<tr>
<td style="text-align:center">U</td>
<td>撤销当前行最近所有修改</td>
</tr>
<tr>
<td style="text-align:center">control + r</td>
<td>重做</td>
</tr>
</tbody>
</table>
</div>
<h4 id="二、命令模式"><a href="#二、命令模式" class="headerlink" title="二、命令模式"></a>二、命令模式</h4><h5 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h5><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">命令</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>:/something</code></td>
<td>在光标后面的文本中查找 something</td>
</tr>
<tr>
<td style="text-align:center"><code>:?something</code></td>
<td>在光标前面的文本中查找 something</td>
</tr>
<tr>
<td style="text-align:center"><code>n</code></td>
<td>查找下一个</td>
</tr>
<tr>
<td style="text-align:center"><code>N</code></td>
<td>查找上一个</td>
</tr>
<tr>
<td style="text-align:center"><code>:nohl</code></td>
<td>关闭高亮</td>
</tr>
</tbody>
</table>
</div>
<h5 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h5><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">命令</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>:s/old/new[/i]</code></td>
<td>用 new 替换当前行第一个 old [忽略大小写]</td>
</tr>
<tr>
<td style="text-align:center"><code>:s/old/new/g[i][c]</code></td>
<td>用 new 替换当前行所有 old [忽略大小写] [每次替换前询问]</td>
</tr>
<tr>
<td style="text-align:center"><code>:n1, n2s/old/new/g[i][c]</code></td>
<td>用 new 替换 n1 行到 n2 行所有 old [忽略大小写] [每次替换前询问]</td>
</tr>
<tr>
<td style="text-align:center"><code>:%s/old/new/g[i][c]</code></td>
<td>用 new 替换所有 old [忽略大小写] [每次替换前询问]</td>
</tr>
<tr>
<td style="text-align:center"><code>:n1, n2s/^/xxx/g</code></td>
<td>在 n1 行到 n2 行的行首插入 xxx</td>
</tr>
<tr>
<td style="text-align:center"><code>:%s/^/xxx/g</code></td>
<td>在每一行行首插入 xxx</td>
</tr>
<tr>
<td style="text-align:center"><code>:n1, n2s/$/xxx/g</code></td>
<td>在 n1 到 n2 行行末插入 xxx</td>
</tr>
<tr>
<td style="text-align:center"><code>:%s/$/xxx/g</code></td>
<td>在每一行行末插入 xxx</td>
</tr>
</tbody>
</table>
</div>
<h4 id="三、可视化模式"><a href="#三、可视化模式" class="headerlink" title="三、可视化模式"></a>三、可视化模式</h4><blockquote>
<p>在普通模式下</p>
<ul>
<li><p>输入 v 进入字符可视化模式（逐字符选取）</p>
<p><img src="/2023/01/15/SP02/截屏2023-01-12 21.12.58.png" alt="截屏2023-01-12 21.12.58" style="zoom:30%;"></p>
</li>
<li><p>输入 V 进入行可视化模式（逐行选取）</p>
<p><img src="/2023/01/15/SP02/截屏2023-01-12 21.13.25.png" alt="截屏2023-01-12 21.13.25" style="zoom:30%;"></p>
</li>
<li><p>输入 control + V 进入块可视化模式（选取内容为矩形块）</p>
<p><img src="/2023/01/15/SP02/截屏2023-01-12 21.13.58.png" alt="截屏2023-01-12 21.13.58" style="zoom:30%;"></p>
</li>
</ul>
</blockquote>
<p><strong>在可视化模式下，光标移过的地方就会被选中，选中后，有类似于普通模式的快捷操作。操作完毕返回普通模式。</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">y</td>
<td>复制选中内容</td>
</tr>
<tr>
<td style="text-align:center">Y</td>
<td>复制选中行，哪怕某行没有被完全选中</td>
</tr>
<tr>
<td style="text-align:center">d</td>
<td>剪切选中内容</td>
</tr>
<tr>
<td style="text-align:center">D</td>
<td>剪切选中行，哪怕某行没有被完全选中</td>
</tr>
<tr>
<td style="text-align:center">c</td>
<td>删除选中文本并进入插入模式</td>
</tr>
<tr>
<td style="text-align:center">C</td>
<td>删除选中行并进入编辑模式，哪怕某行没有被完全选中</td>
</tr>
<tr>
<td style="text-align:center">&gt;</td>
<td>增加缩进</td>
</tr>
<tr>
<td style="text-align:center">&lt;</td>
<td>减少缩进</td>
</tr>
<tr>
<td style="text-align:center">~</td>
<td>大小写转换</td>
</tr>
<tr>
<td style="text-align:center"><code>:write filename</code></td>
<td>将选中内容写入文件</td>
</tr>
</tbody>
</table>
</div>
<h3 id="2-3-gcc-编译器"><a href="#2-3-gcc-编译器" class="headerlink" title="2.3 gcc 编译器"></a>2.3 gcc 编译器</h3><h5 id="基本的编译选项"><a href="#基本的编译选项" class="headerlink" title="基本的编译选项"></a>基本的编译选项</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc hello.c    <span class="comment"># 编译 hello.c 默认生成 a.out 可执行文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc hello.c -o hello    <span class="comment"># 编译 hello.c 生成 hello 可执行文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -E hello.c -o hello.i    <span class="comment"># 预处理 hello.c 生成 hello.i 文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -S hello.c -o hello.s    <span class="comment"># 编译 hello.c 生成 hello.s 汇编代码文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -c hello.c -o hello.o    <span class="comment"># 汇编 hello.c 生成 hello.o 可重定位目标文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc hello.o -o hello    <span class="comment"># 由 hello.o 可重定位目标文件链接成 hello 可执行文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc hello.c -o hello -save-temps    <span class="comment"># 保留中间文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -o <span class="built_in">test</span> test.c myfunc.o -Iinclude <span class="comment"># 指定头文件路径为当前目录下的 include 目录</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>由编译过程中的一个或若干个、一种或若干种中间文件，可以生成<code>-o</code>选项后的目标文件，只要该文件处于编译阶段的更下游。</p>
</blockquote>
<p><strong>静态库</strong></p>
<h6 id="1-编写静态库源代码和测试程序"><a href="#1-编写静态库源代码和测试程序" class="headerlink" title="1. 编写静态库源代码和测试程序"></a>1. 编写静态库源代码和测试程序</h6><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./include/foo.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _FOO_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _FOO_H_</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">void</span> <span class="title function_">foo</span><span class="params">()</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./src/foo.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;foo.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">foo</span><span class="params">()</span> &#123; <span class="built_in">printf</span>(<span class="string">&quot;foo\n&quot;</span>); &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./src/main.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;foo.h&quot;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123; <span class="built_in">printf</span>(<span class="string">&quot;Hello World!\n&quot;</span>); foo(); <span class="keyword">return</span> <span class="number">0</span>; &#125;</span><br></pre></td></tr></table></figure>
<h6 id="2-编译并生成静态库"><a href="#2-编译并生成静态库" class="headerlink" title="2. 编译并生成静态库"></a>2. 编译并生成静态库</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -c bin/foo.c -Iinclude -o obj/foo.o</span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ar rcs lib/libfoo.a obj/foo.o</span><br></pre></td></tr></table></figure>
<h6 id="3-链接静态库"><a href="#3-链接静态库" class="headerlink" title="3. 链接静态库"></a>3. 链接静态库</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法一：编译测试程序，并链接静态库</span></span><br><span class="line">gcc src/main.c -static lib/libfoo.o -o bin/main</span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法二：使用 `-L` 指定库的搜索路径 使用 `-l` 指定库的名称</span></span><br><span class="line">gcc src/main.c -static -Llib -lfoo -o bin/main</span><br></pre></td></tr></table></figure>
<h5 id="动态库"><a href="#动态库" class="headerlink" title="动态库"></a>动态库</h5><h6 id="1-编写动态库源代码和测试程序"><a href="#1-编写动态库源代码和测试程序" class="headerlink" title="1. 编写动态库源代码和测试程序"></a>1. 编写动态库源代码和测试程序</h6><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./include/bar.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _BAR_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _BAR_H_</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">void</span> <span class="title function_">bar</span><span class="params">()</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./src/bar.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bar.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">bar</span><span class="params">()</span> &#123; <span class="built_in">printf</span>(<span class="string">&quot;bar\n&quot;</span>); &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./src/main.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bar.h&quot;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123; <span class="built_in">printf</span>(<span class="string">&quot;Hello World!\n&quot;</span>); bar(); <span class="keyword">return</span> <span class="number">0</span>; &#125;</span><br></pre></td></tr></table></figure>
<h6 id="2-编译并生成动态库"><a href="#2-编译并生成动态库" class="headerlink" title="2. 编译并生成动态库"></a>2. 编译并生成动态库</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc src/bar.c -shared -fPIC -o lib/libbar.so    <span class="comment"># -fPIC 选项用于生成位置无关代码</span></span><br></pre></td></tr></table></figure>
<h6 id="3-指明动态库的位置"><a href="#3-指明动态库的位置" class="headerlink" title="3. 指明动态库的位置"></a>3. 指明动态库的位置</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法一：设置环境变量</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=$(<span class="built_in">pwd</span>)/lib</span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法二：使用 rpath 将共享库位置嵌入到程序</span></span><br><span class="line">gcc src/main.c -Llib -lbar -Wl,-rpath=`<span class="built_in">pwd</span>`/lib -o bin/main</span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法三：将动态库添加到系统路径</span></span><br><span class="line">sudo <span class="built_in">cp</span> lib/libbar.so /usr/bin</span><br></pre></td></tr></table></figure>
<h6 id="4-链接动态库"><a href="#4-链接动态库" class="headerlink" title="4. 链接动态库"></a>4. 链接动态库</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法一</span></span><br><span class="line">gcc src/main.c lib/libbar.so -o bin/main</span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法二同上，指明库的路径和名称</span></span><br><span class="line"><span class="comment"># 注意，系统的库，如线程库 pthread 等不需要指明路径</span></span><br></pre></td></tr></table></figure>
<blockquote>
<h5 id="补充：静态库与动态库的区别"><a href="#补充：静态库与动态库的区别" class="headerlink" title="补充：静态库与动态库的区别"></a>补充：静态库与动态库的区别</h5><ul>
<li>静态库封装了函数，链接时会把对应的代码嵌入到可执行文件中。静态库的编译速度较快，但每个与静态库链接的程序，都有库中一部分函数代码的拷贝，且在运行时每一份拷贝都要占用相应的物理内存。此外，库的版本升级，就意味着所有用到该库的程序都需要重新链接，非常麻烦。</li>
<li>动态库在链接时并不拷贝代码，而是在目标文件中记录一条引用信息，在程序运行时才根据该信息由动态链接器去定位对应代码的位置并执行，使得可执行程序的体积明显减小。其次，每个动态库在物理内存中只有一份副本，调用它的程序会在各自的虚存中映射同一份副本，节省了内存空间。此外，动态库便于库的版本更新。</li>
</ul>
</blockquote>
<h3 id="2-4-make-工具"><a href="#2-4-make-工具" class="headerlink" title="2.4 make 工具"></a>2.4 make 工具</h3><p><strong>make 工具是维护程序项目的便捷手段，它通过一个文本文件去描述项目文件之间的依赖性，通过执行make命令在项目内容修改后进行必要的重编译。</strong>此处仅举一简例说明。</p>
<h5 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h5><p><img src="/2023/01/15/SP02/截屏2023-01-14 11.32.14.png" alt="截屏2023-01-14 11.32.14" style="zoom:40%;"></p>
<h5 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;fun1.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;fun2.h&quot;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123; fun1(); fun2(); <span class="keyword">return</span> <span class="number">0</span>; &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// fun1.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _FUN1_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _FUN1_H_</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">void</span> <span class="title function_">fun1</span><span class="params">()</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// fun1.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;fun1.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">fun1</span><span class="params">()</span> &#123; <span class="built_in">printf</span>(<span class="string">&quot;fun1\n&quot;</span>); &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// fun2.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _FUN2_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _FUN2_H_</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">void</span> <span class="title function_">fun2</span><span class="params">()</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// fun2.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;fun2.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">fun2</span><span class="params">()</span> &#123; <span class="built_in">printf</span>(<span class="string">&quot;fun2\n&quot;</span>); &#125;</span><br></pre></td></tr></table></figure>
<h5 id="编写-Makefile，指明文件之间的依赖性"><a href="#编写-Makefile，指明文件之间的依赖性" class="headerlink" title="编写 Makefile，指明文件之间的依赖性"></a>编写 Makefile，指明文件之间的依赖性</h5><p>一般地，Makefile 中的通用格式为</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[目标文件]: [依赖文件 1] [依赖文件 2] ... # 空格分开</span></span><br><span class="line">	[由依赖文件产生目标文件的命令] <span class="comment"># 如 gcc [依赖文件 1] [依赖文件 2] -o [目标文件]</span></span><br><span class="line"><span class="comment"># ^ 此处为 tab 而非四个空格</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>make</code>按照 GNUmakefile、makefile、Makefile 的顺序查找文件。如果描述依赖性的文件为其他名字，应用<code>-f</code>参数指出：<code>make -f othername</code>。</p>
</blockquote>
<p>本例中的 Makefile 内容如下</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">GCC_FLAGS=-c -Wall <span class="comment"># 定义常量，gcc 参数为生成可重定位目标文件及显示一切警告</span></span><br><span class="line"></span><br><span class="line"><span class="section">main: main.o fun1.o fun2.o # 最终目标依赖三个 .o 文件</span></span><br><span class="line">	gcc -Wall main.o fun1.o fun2.o -o main</span><br><span class="line"><span class="comment"># 以下为三个 .o 文件各自的生成规则</span></span><br><span class="line"><span class="section">main.o: src/main.c</span></span><br><span class="line">	gcc <span class="variable">$(GCC_FLAGS)</span> src/main.c -Iinclude -o main.o</span><br><span class="line"><span class="section">fun1.o: src/fun1.c</span></span><br><span class="line">	gcc <span class="variable">$(GCC_FLAGS)</span> src/fun1.c -Iinclude -o fun1.o</span><br><span class="line"><span class="section">fun2.o: src/fun2.c</span></span><br><span class="line">	gcc <span class="variable">$(GCC_FLAGS)</span> src/fun2.c -Iinclude -o fun2.o</span><br><span class="line"></span><br><span class="line"><span class="meta"><span class="keyword">.PHONY</span>: clean # PHONY 声明 clean 是一个伪目标，此处用于删除 .o 中间文件</span></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	rm -rf *.o</span><br></pre></td></tr></table></figure>
<h5 id="执行make"><a href="#执行make" class="headerlink" title="执行make"></a>执行<code>make</code></h5><ul>
<li>执行<code>make</code>，编译构建项目</li>
<li>执行<code>make clean</code>，删除中间文件。由于已经声明 clean 是一个伪目标，<code>make</code>将不去理会目录中有无名为 clean 的文件，也不考虑是否需要更新或生成该文件，而是直接执行其后的<code>rm</code>命令。</li>
</ul>
<h3 id="2-5-Shell-编程"><a href="#2-5-Shell-编程" class="headerlink" title="2.5 Shell 编程"></a>2.5 Shell 编程</h3><h4 id="一-Shell-概述"><a href="#一-Shell-概述" class="headerlink" title="(一)Shell 概述"></a>(一)Shell 概述</h4><h5 id="一、Shell-的两重含义"><a href="#一、Shell-的两重含义" class="headerlink" title="一、Shell 的两重含义"></a>一、Shell 的两重含义</h5><ul>
<li>Shell 是一个<strong>命令行解释器</strong>，它为用户提供了一个向 Linux 内核发送请求以便运行程序的界面系统级程序。用户可以用 Shell 来启动、运行、挂起、终止、编写程序。</li>
<li>Shell 是一种<strong>编程语言</strong>，是解释执行的<strong>脚本语言</strong>。</li>
</ul>
<h5 id="二、Shell-的分类"><a href="#二、Shell-的分类" class="headerlink" title="二、Shell 的分类"></a>二、Shell 的分类</h5><ul>
<li><p>Bourne Shell：Unix 从 1979 年开始使用 Bourne Shell，其文件后缀为 .sh。</p>
</li>
<li><p>C Shell：主要在 BSD 版的 Unix 系统中使用，其语法与 C 语言类似而得名。</p>
</li>
<li><p>Shell 的两种主要语法类型为 Bourne 和 C，互不兼容。前者包括 sh、ksh、bash、psh、zsh 等；后者包括 csh 和 tcsh 等。</p>
<blockquote>
<p><strong>bash 与 sh 兼容，现行 Linux 默认使用 bash 作为 Shell。</strong></p>
</blockquote>
</li>
</ul>
<h5 id="三、Shell-脚本的执行方式"><a href="#三、Shell-脚本的执行方式" class="headerlink" title="三、Shell 脚本的执行方式"></a>三、Shell 脚本的执行方式</h5><ul>
<li>编写脚本，如<code>vim test.sh</code>。脚本内容可以理解为一条条命令的集合。</li>
<li>修改权限，如<code>chmod 777 test.sh</code>。</li>
<li>执行脚本，如<code>./test.sh</code>或<code>sh test.sh</code>。</li>
</ul>
<h4 id="二-echo与格式化输入输出"><a href="#二-echo与格式化输入输出" class="headerlink" title="(二)echo与格式化输入输出"></a>(二)echo与格式化输入输出</h4><h5 id="一、echo"><a href="#一、echo" class="headerlink" title="一、echo"></a>一、echo</h5><h6 id="打印字符串，自动换行"><a href="#打印字符串，自动换行" class="headerlink" title="打印字符串，自动换行"></a>打印字符串，自动换行</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以下命令等价</span></span><br><span class="line"><span class="built_in">echo</span> hello</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;hello&#x27;</span></span><br></pre></td></tr></table></figure>
<h6 id="启用或关闭转义"><a href="#启用或关闭转义" class="headerlink" title="启用或关闭转义"></a>启用或关闭转义</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\aabc\bd\&quot;\$\c&quot;</span>   <span class="comment"># 发出响铃声，打印 abd&quot;$，\c 转义为不换行</span></span><br><span class="line"><span class="built_in">echo</span> -E <span class="string">&quot;\aa\\bc\bd\&quot;\$\c&quot;</span> <span class="comment"># 打印 \aa\bc\b&quot;$\c 并换行，注意 \\ \&quot; \$ 等转义字符仍保留</span></span><br></pre></td></tr></table></figure>
<h6 id="取消自动换行"><a href="#取消自动换行" class="headerlink" title="取消自动换行"></a>取消自动换行</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -n <span class="string">&quot;hello&quot;</span></span><br></pre></td></tr></table></figure>
<h6 id="打印变量的值"><a href="#打印变量的值" class="headerlink" title="打印变量的值"></a>打印变量的值</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash # 此句说明使用的 Shell 是 bash</span></span><br><span class="line"><span class="comment"># 打印系统定义的环境变量的值</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line"><span class="comment"># 打印自定义变量的值</span></span><br><span class="line">name=Tom                 <span class="comment"># 自定义变量，等号左右不能有空格</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span>               <span class="comment"># 直接打印，$ 为取值符号</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;My name is <span class="variable">$name</span>.&quot;</span> <span class="comment"># 在字符串中引用，只能用双引号</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;\$name = <span class="variable">$name</span>&quot;</span>    <span class="comment"># 打印 $ 符号必须转义</span></span><br></pre></td></tr></table></figure>
<h6 id="打印命令执行结果"><a href="#打印命令执行结果" class="headerlink" title="打印命令执行结果"></a>打印命令执行结果</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">ls</span>`                              <span class="comment"># 反引号中为命令</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">pwd</span>`<span class="string">&quot; is the working directory.&quot;</span> <span class="comment"># 字符串拼接，直接跟在后面，不能有空格</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">cat</span> /etc/passwd | grep root`     <span class="comment"># 也可以执行更复杂的命令</span></span><br></pre></td></tr></table></figure>
<h5 id="二、printf"><a href="#二、printf" class="headerlink" title="二、printf"></a>二、printf</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;Hello World\n&quot;</span>                     <span class="comment"># 打印字符串(默认不换行)</span></span><br><span class="line"><span class="built_in">printf</span> `<span class="built_in">cat</span> /etc/passwd | grep root`       <span class="comment"># 打印命令结果 如果遇到空字符就会停止</span></span><br><span class="line"><span class="built_in">echo</span>                                       <span class="comment"># 只有一个 echo 表示换行</span></span><br><span class="line"><span class="built_in">printf</span> `<span class="built_in">pwd</span>`<span class="string">&quot; is the working directory.\n&quot;</span> <span class="comment"># 拼接字符串</span></span><br><span class="line"></span><br><span class="line">ID=10000</span><br><span class="line">name=Tom</span><br><span class="line">height=175.4</span><br><span class="line"><span class="built_in">printf</span> <span class="variable">$ID</span>    <span class="comment"># 打印变量</span></span><br><span class="line"><span class="built_in">echo</span>          <span class="comment"># 换行</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;ID: <span class="variable">$ID</span>, name: <span class="variable">$name</span>, height: <span class="variable">$height</span>\n&quot;</span></span><br><span class="line">    <span class="comment"># 在双引号中引用变量</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;*ID: %-10d, name: %-10s, height: %-10.2f*\n&quot;</span> <span class="variable">$ID</span> <span class="variable">$name</span> <span class="variable">$height</span></span><br><span class="line">    <span class="comment"># 格式化输出</span></span><br></pre></td></tr></table></figure>
<h4 id="三-Bash-常见功能"><a href="#三-Bash-常见功能" class="headerlink" title="(三)Bash 常见功能"></a>(三)Bash 常见功能</h4><h5 id="一、历史命令与命令补全"><a href="#一、历史命令与命令补全" class="headerlink" title="一、历史命令与命令补全"></a>一、历史命令与命令补全</h5><ul>
<li><strong><code>history</code>命令用来查看历史命令</strong><ul>
<li><code>-c</code>选项可以清空历史命令</li>
<li><code>-w</code>选项可以将缓存中的命令写入历史命令保存文件</li>
</ul>
</li>
<li><strong>调用历史命令</strong><ul>
<li>上下箭头可以调用历史命令</li>
<li><code>!n</code>可以查看第 n 条历史命令</li>
<li><code>!!</code>可以查看上一条命令</li>
<li><code>!串</code>可以查看最后一条以该串开头的历史命令</li>
</ul>
</li>
<li><strong>补全：输入命令或文件名后按 Tab 可以补全</strong></li>
</ul>
<h5 id="二、命令别名"><a href="#二、命令别名" class="headerlink" title="二、命令别名"></a>二、命令别名</h5><ul>
<li><p><strong>设置或查看别名</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> list=<span class="built_in">ls</span> <span class="comment"># 设置 ls 的别名为 list</span></span><br><span class="line"><span class="built_in">alias</span>         <span class="comment"># 查看系统中所有的命令别名</span></span><br><span class="line"><span class="comment"># 注意：需要把配置写入 /root/.bashrc 中才能让别名永久生效</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>命令执行顺序</strong></p>
<ul>
<li>第一顺位：用绝对路径或相对路径表示的命令</li>
<li>第二顺位：用别名表示的命令</li>
<li>第三顺位：bash 的内部命令</li>
<li>第四顺位：按照<code>$PATH</code>环境变量定义的目录，顺序查找到的第一个命令</li>
</ul>
</li>
</ul>
<h5 id="三、重定向"><a href="#三、重定向" class="headerlink" title="三、重定向"></a>三、重定向</h5><h6 id="标准输出重定向"><a href="#标准输出重定向" class="headerlink" title="标准输出重定向"></a>标准输出重定向</h6><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">命令</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>命令 &gt; 文件</code></td>
<td>以覆盖方式将命令正确输出写入文件</td>
</tr>
<tr>
<td style="text-align:center"><code>命令 &gt;&gt; 文件</code></td>
<td>以追加方式将命令正确输出写入文件</td>
</tr>
</tbody>
</table>
</div>
<h6 id="标准错误重定向"><a href="#标准错误重定向" class="headerlink" title="标准错误重定向"></a>标准错误重定向</h6><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">命令</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>错误命令 2&gt; 文件</code></td>
<td>以覆盖方式将命令错误输出写入文件</td>
</tr>
<tr>
<td style="text-align:center"><code>错误命令 2&gt;&gt; 文件</code></td>
<td>以追加方式将命令错误输出写入文件</td>
</tr>
</tbody>
</table>
</div>
<h6 id="同时重定向正误输出"><a href="#同时重定向正误输出" class="headerlink" title="同时重定向正误输出"></a>同时重定向正误输出</h6><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">命令</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>命令 &gt; 文件 2&gt;&amp;1</code></td>
<td>以覆盖方式同时将正确输出和错误输出写入文件</td>
</tr>
<tr>
<td style="text-align:center"><code>命令 &gt;&gt; 文件 2&gt;&amp;1</code></td>
<td>以追加方式同时将正确输出和错误输出写入文件</td>
</tr>
<tr>
<td style="text-align:center"><code>命令 &amp;&gt; 文件</code></td>
<td>以覆盖方式同时将正确输出和错误输出写入文件</td>
</tr>
<tr>
<td style="text-align:center"><code>命令 &amp;&gt;&gt; 文件</code></td>
<td>以追加方式同时将正确输出和错误输出写入文件</td>
</tr>
<tr>
<td style="text-align:center"><code>命令 &gt; 文件1 2&gt;&gt; 文件2</code></td>
<td>以覆盖方式将正确输出写入文件1，以追加方式将错误输出写入文件2</td>
</tr>
</tbody>
</table>
</div>
<h5 id="四、多命令执行"><a href="#四、多命令执行" class="headerlink" title="四、多命令执行"></a>四、多命令执行</h5><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">格式</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>命令1; 命令2</code></td>
<td>顺序执行命令，命令间无关联</td>
</tr>
<tr>
<td style="text-align:center"><code>命令1 &amp;&amp; 命令2</code></td>
<td>当命令1执行正确，命令2才会执行</td>
</tr>
<tr>
<td style="text-align:center"><code>命令1 ｜｜ 命令2</code></td>
<td>当命令1执行错误，命令2才会执行</td>
</tr>
</tbody>
</table>
</div>
<h4 id="四-变量"><a href="#四-变量" class="headerlink" title="(四)变量"></a>(四)变量</h4><h5 id="一、变量及其分类"><a href="#一、变量及其分类" class="headerlink" title="一、变量及其分类"></a>一、变量及其分类</h5><h6 id="1-环境变量"><a href="#1-环境变量" class="headerlink" title="1. 环境变量"></a>1. 环境变量</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span>     <span class="comment"># 环境中的路径</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$HOME</span>     <span class="comment"># 用户家目录</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span>    <span class="comment"># 当前 Shell 类型</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$USER</span>     <span class="comment"># 当前用户名</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PWD</span>      <span class="comment"># 当前路径</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$TERM</span>     <span class="comment"># 当前终端类型</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$HOSTNAME</span> <span class="comment"># 当前主机名</span></span><br><span class="line"><span class="comment"># ...</span></span><br></pre></td></tr></table></figure>
<h6 id="2-系统变量"><a href="#2-系统变量" class="headerlink" title="2. 系统变量"></a>2. 系统变量</h6><blockquote>
<p>此类变量属于系统预定义变量，只能用<code>$</code>引用，不能修改。</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>$0</code></td>
<td>当前脚本的名称</td>
</tr>
<tr>
<td style="text-align:center"><code>$1 $2 ... $9 $&#123;10&#125; ...</code></td>
<td>当前脚本的第 n 个参数</td>
</tr>
<tr>
<td style="text-align:center"><code>$*</code></td>
<td>当前脚本的所有参数（从 1 开始）</td>
</tr>
<tr>
<td style="text-align:center"><code>$#</code></td>
<td>当前脚本的参数个数（不包括脚本名称）</td>
</tr>
<tr>
<td style="text-align:center"><code>$?</code></td>
<td>命令或程序执行完的状态</td>
</tr>
<tr>
<td style="text-align:center">$$$$</td>
<td>程序本身的 PID 号</td>
</tr>
<tr>
<td style="text-align:center"><code>$!</code></td>
<td>运行的最后一个进程的 PID 号</td>
</tr>
</tbody>
</table>
</div>
<h6 id="3-用户自定义变量"><a href="#3-用户自定义变量" class="headerlink" title="3. 用户自定义变量"></a>3. 用户自定义变量</h6><ul>
<li><strong>定义变量</strong> <code>变量名=值</code></li>
<li><strong>撤销变量</strong> <code>unset 变量名</code></li>
<li><strong>定义常量</strong> <code>readonly 变量名=值</code>。此类变量不能修改值，也不能<code>unset</code></li>
<li>查看当前 Shell 中的所有变量 <code>set</code>命令</li>
</ul>
<p><strong>定义变量的规则</strong></p>
<ul>
<li><p>变量名可以由字母、数字和下划线组成，但<strong>不能以数字开头</strong></p>
</li>
<li><p><strong>等号两侧不能有空格</strong></p>
</li>
<li><p>变量名一般习惯为大写</p>
</li>
<li><p><strong>将命令的输出结果赋值给变量的两种方式</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A=`<span class="built_in">date</span>`</span><br><span class="line">A=$(<span class="built_in">date</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p><strong>用户自定义环境变量</strong></p>
<p>命令 <code>export 变量名=变量值</code>，此种做法只能临时设置，重启终端后就会失效。</p>
<p><strong>为系统引入自定义环境变量</strong></p>
<ul>
<li>在 /etc/profile 中增加一行<code>export 变量名=变量值</code></li>
<li>保存退出，<code>source /etc/profile</code></li>
</ul>
</blockquote>
<h5 id="二、算数与逻辑运算"><a href="#二、算数与逻辑运算" class="headerlink" title="二、算数与逻辑运算"></a>二、算数与逻辑运算</h5><h6 id="1-运算符"><a href="#1-运算符" class="headerlink" title="1. 运算符"></a>1. 运算符</h6><p>​    支持四则运算、取模运算、自增自减、逻辑运算、比较运算、移位运算、位运算、赋值运算。特别，支持单目的<code>+ -</code>运算和幂运算<code>**</code>。</p>
<h6 id="2-整数运算"><a href="#2-整数运算" class="headerlink" title="2. 整数运算"></a>2. 整数运算</h6><ul>
<li><p><strong><code>(())</code>运算命令，在前面加上<code>$</code>获取结果</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line">A=$((<span class="number">1</span> + <span class="number">2</span>))        <span class="comment"># 普通算数运算 A=3</span></span><br><span class="line">B=$((<span class="number">4</span> ** <span class="number">2</span>))       <span class="comment"># 幂运算 B=16</span></span><br><span class="line">C=$((--A))          <span class="comment"># A 自减为 2，并赋值给 C</span></span><br><span class="line">D=$((<span class="variable">$A</span> + <span class="variable">$B</span> + <span class="variable">$C</span>)) <span class="comment"># 在表达式中引用变量 前方可以加上 $</span></span><br><span class="line">E=$((A * B * C))    <span class="comment"># 在表达式中引用变量 也可以直接写变量名</span></span><br><span class="line"><span class="built_in">echo</span> D=<span class="variable">$D</span>           <span class="comment"># D=20</span></span><br><span class="line"><span class="built_in">echo</span> E=<span class="variable">$E</span>           <span class="comment"># E=64</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line">A=5</span><br><span class="line">B=10</span><br><span class="line"><span class="built_in">echo</span> $((A &lt; B))  <span class="comment"># 输出布尔值 1</span></span><br><span class="line"><span class="built_in">echo</span> $((A &gt;= B)) <span class="comment"># 输出布尔值 0</span></span><br><span class="line"><span class="built_in">echo</span> $((A != B)) <span class="comment"># 输出布尔值 1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> $(($((A ** <span class="number">3</span>)) &gt; $((B &lt;&lt; <span class="number">3</span>)))) <span class="comment"># 5 的 3 次方大于 10 左移 3 位，输出布尔值 1</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line">A=100</span><br><span class="line">B=200</span><br><span class="line"><span class="built_in">echo</span> $((A - B, A * <span class="number">2</span>, B - A * <span class="number">5</span>)) <span class="comment"># 逗号分隔的运算，取最后一个表达式的结果，输出 -300</span></span><br><span class="line"></span><br><span class="line">MIN=$((A &lt; B ? A : B)) <span class="comment"># 三目运算，同 C 语言</span></span><br><span class="line"><span class="built_in">echo</span> MIN=<span class="variable">$MIN</span>          <span class="comment"># 输出 MIN=100</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>let</code>运算命令</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line">A=1</span><br><span class="line">B=2</span><br><span class="line"><span class="built_in">let</span> <span class="string">&quot;A += A + 1&quot;</span>         <span class="comment"># C: A += A + 1;              =&gt; A = 3</span></span><br><span class="line"><span class="built_in">let</span> <span class="string">&quot;B &lt;&lt;= 2&quot;</span>            <span class="comment"># C: B &lt;&lt;= 2;                 =&gt; B = 8</span></span><br><span class="line"><span class="built_in">let</span> <span class="string">&quot;C = (A + B) * 3 -2&quot;</span> <span class="comment"># C: int C = (A + B) * 3 - 2; =&gt; C = 31</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$C</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h6 id="3-expr表达式"><a href="#3-expr表达式" class="headerlink" title="3. expr表达式"></a>3. <code>expr</code>表达式</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line">A=2</span><br><span class="line">B=3</span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> \( <span class="variable">$A</span> \* 3 \) <span class="string">&#x27;*&#x27;</span> \( <span class="variable">$B</span> + 1 \)`</span><br><span class="line">    <span class="comment"># 括号、乘号、尖括号等必须转义，或用&#x27;&#x27;包围，不支持 **</span></span><br><span class="line">    <span class="comment"># 算式中任意元素左右必须有空格</span></span><br><span class="line">    <span class="comment"># 相当于 echo $(((A * 3) * (B + 1)))，输出 24</span></span><br><span class="line"></span><br><span class="line">C=`<span class="built_in">expr</span> \( <span class="variable">$A</span> &lt;&lt; <span class="string">2 \) % $B` # 相当于 C=$(((A &lt;&lt; 2</span>) % B))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;C = <span class="variable">$C</span>&quot;</span>               <span class="comment"># 输出 2</span></span><br></pre></td></tr></table></figure>
<h6 id="4-浮点运算的-bc-工具"><a href="#4-浮点运算的-bc-工具" class="headerlink" title="4. 浮点运算的 bc 工具"></a>4. 浮点运算的 bc 工具</h6><blockquote>
<p>bc 是 Linux 内置的计算器，支持浮点运算。在终端执行命令<code>bc</code>，即可进入该计算器；输入<code>quit</code>然后回车即可退出。对于浮点运算，其精度由名为<code>scale</code>的变量控制，默认是 0。改变其值，即可改变小数位数。</p>
<p><img src="/2023/01/15/SP02/截屏2023-01-14 18.36.40.png" alt="截屏2023-01-14 18.36.40" style="zoom:40%;"></p>
</blockquote>
<p><strong>在脚本中的使用</strong></p>
<ul>
<li><p><strong>运算较简单时</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">readonly</span> PI=3.14159</span><br><span class="line">R=2</span><br><span class="line">S=`<span class="built_in">echo</span> <span class="string">&quot;scale=3; <span class="variable">$PI</span> * <span class="variable">$R</span> * <span class="variable">$R</span>&quot;</span> | bc` <span class="comment"># 通过管道直接交给 bc 运算</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;S = %.3f\n&quot;</span> <span class="variable">$S</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>运算较复杂时</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line">A=14.5</span><br><span class="line">B=5</span><br><span class="line">C=32.4</span><br><span class="line"></span><br><span class="line">D=`bc &lt;&lt; <span class="string">EOF # 追加 EOF</span> 表示一次运算的开始</span><br><span class="line">scale = 4    <span class="comment"># 设置精度</span></span><br><span class="line">a = <span class="variable">$A</span> / <span class="variable">$B</span>  <span class="comment"># 定义 bc 内部变量(小写字母) 该变量外部不可使用</span></span><br><span class="line">b = <span class="variable">$C</span> / <span class="variable">$B</span></span><br><span class="line">a + b</span><br><span class="line">EOF</span><br><span class="line">`</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$D</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="五-控制流"><a href="#五-控制流" class="headerlink" title="(五)控制流"></a>(五)控制流</h4><blockquote>
<h5 id="常见的条件判断"><a href="#常见的条件判断" class="headerlink" title="常见的条件判断"></a>常见的条件判断</h5></blockquote>
<p><strong>判断字符串是否相等</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">=</td>
<td style="text-align:center">相等</td>
</tr>
<tr>
<td style="text-align:center">!=</td>
<td style="text-align:center">不相等</td>
</tr>
</tbody>
</table>
</div>
<p><strong>判断整数的关系</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-lt</td>
<td style="text-align:center">小于</td>
</tr>
<tr>
<td style="text-align:center">-le</td>
<td style="text-align:center">小于等于</td>
</tr>
<tr>
<td style="text-align:center">-eq</td>
<td style="text-align:center">相等</td>
</tr>
<tr>
<td style="text-align:center">-gt</td>
<td style="text-align:center">大于</td>
</tr>
<tr>
<td style="text-align:center">-ge</td>
<td style="text-align:center">大于等于</td>
</tr>
<tr>
<td style="text-align:center">-ne</td>
<td style="text-align:center">不等于</td>
</tr>
</tbody>
</table>
</div>
<p><strong>判断文件权限</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-r</td>
<td style="text-align:center">有读权限</td>
</tr>
<tr>
<td style="text-align:center">-w</td>
<td style="text-align:center">有写权限</td>
</tr>
<tr>
<td style="text-align:center">-x</td>
<td style="text-align:center">有执行权限</td>
</tr>
</tbody>
</table>
</div>
<p><strong>判断文件类型</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-e</td>
<td style="text-align:center">文件存在</td>
</tr>
<tr>
<td style="text-align:center">-f</td>
<td style="text-align:center">文件存在且为普通文件</td>
</tr>
<tr>
<td style="text-align:center">-d</td>
<td style="text-align:center">文件存在且为目录</td>
</tr>
</tbody>
</table>
</div>
<h5 id="一、条件判断语句if"><a href="#一、条件判断语句if" class="headerlink" title="一、条件判断语句if"></a>一、条件判断语句<code>if</code></h5><ul>
<li><p><strong>格式 1</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ condition ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>格式 2</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ condition ]; <span class="keyword">then</span> </span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>格式 3</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ condition1 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"><span class="keyword">elif</span> [ condition2 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p><strong>例 测试常见的条件判断</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -ne 5 ]; <span class="keyword">then</span>   <span class="comment"># 注意 [ 的右边和 ] 的左边一定要有空格</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;usage: <span class="variable">$0</span> num str1 str2 file1 file2&quot;</span> <span class="comment"># 通过命令行传入比较的对象</span></span><br><span class="line">	<span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span>                      <span class="comment"># 注意结束标志不能少</span></span><br><span class="line"><span class="comment"># 测试条件为空的情况</span></span><br><span class="line"><span class="keyword">if</span> [ ]; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;no condition is true&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;no condition is false&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># 测试整数的比较</span></span><br><span class="line"><span class="keyword">if</span> [ 80 -lt <span class="variable">$1</span> -a <span class="variable">$1</span> -le 100 ]; <span class="keyword">then</span>       <span class="comment"># 多条件写法 1: -a(且) 或 -o(或) 连接</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;80 &lt; \$1 &lt;= 100&quot;</span></span><br><span class="line"><span class="keyword">elif</span> [ 60 -lt <span class="variable">$1</span> ] &amp;&amp; [ <span class="variable">$1</span> -le 80 ]; <span class="keyword">then</span>  <span class="comment"># 多条件写法 2: 分开写 用 &amp;&amp; 或 || 连接</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;60 &lt; \$1 &lt;= 80&quot;</span></span><br><span class="line"><span class="keyword">else</span>                                       <span class="comment"># else 后面没有 then !!</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;\$1 &lt;= 60&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># 测试字符串的比较</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$2</span> = <span class="variable">$3</span> ]; <span class="keyword">then</span>  <span class="comment"># 判断字符串是否相等</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$2</span> = <span class="variable">$3</span>&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$2</span> != <span class="variable">$3</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># 测试文件权限</span></span><br><span class="line"><span class="keyword">if</span> [ -x <span class="variable">$4</span> ]; <span class="keyword">then</span>          <span class="comment"># 判断文件是否有可执行权限</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$4</span> is executable&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$4</span> is not executable&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># 测试文件类型与存在性</span></span><br><span class="line"><span class="keyword">if</span> [ -e <span class="variable">$5</span> ]; <span class="keyword">then</span>          <span class="comment"># 判断文件是否存在</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;file <span class="variable">$5</span> exists&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;file <span class="variable">$5</span> does not exist&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="二、条件分支语句case"><a href="#二、条件分支语句case" class="headerlink" title="二、条件分支语句case"></a>二、条件分支语句<code>case</code></h5><ul>
<li><p><strong>格式</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="variable">$name</span> <span class="keyword">in</span></span><br><span class="line"><span class="string">&quot;val 1&quot;</span>)</span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line">;;    </span><br><span class="line"><span class="string">&quot;val 2&quot;</span>)</span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line">;;</span><br><span class="line"><span class="string">&quot;val 3&quot;</span>)</span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">    <span class="comment"># default</span></span><br><span class="line">;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p><strong>例 <code>case</code>语句的使用</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -ne 1 ]; <span class="keyword">then</span></span><br><span class="line"> <span class="built_in">echo</span> <span class="string">&quot;usage: <span class="variable">$0</span> num&quot;</span>                <span class="comment"># 通过命令行传入一个数 判断星期几</span></span><br><span class="line"> <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line"> <span class="string">&quot;1&quot;</span>)                                <span class="comment"># 为简便起见 都看成字符串的比较</span></span><br><span class="line">     <span class="built_in">echo</span> <span class="string">&quot;Can&#x27;t get up to work...&quot;</span></span><br><span class="line">     ;;                              <span class="comment"># 注意每个分支后的两个分号不能省</span></span><br><span class="line"> <span class="string">&quot;4&quot;</span>)</span><br><span class="line">     <span class="built_in">echo</span> <span class="string">&quot;Crazy Thursday!!&quot;</span></span><br><span class="line">     ;;</span><br><span class="line"> <span class="string">&quot;5&quot;</span>)</span><br><span class="line">     <span class="built_in">echo</span> <span class="string">&quot;Finally comes Weekends!!&quot;</span></span><br><span class="line">     ;;</span><br><span class="line"> *)                                  <span class="comment"># 默认情况执行的内容</span></span><br><span class="line">     <span class="built_in">echo</span> <span class="string">&quot;Nothing to say&quot;</span></span><br><span class="line">     ;;                              <span class="comment"># 此处也有分号</span></span><br><span class="line"><span class="keyword">esac</span>                                    <span class="comment"># 注意最后的结束标志</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="三、循环语句for"><a href="#三、循环语句for" class="headerlink" title="三、循环语句for"></a>三、循环语句<code>for</code></h5><ul>
<li><p><strong>格式 1</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> list/array; <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>格式 2</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ((初始化循环变量; 循环条件; 修改循环变量)); <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"><span class="keyword">done</span>    </span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p><strong>例 两类<code>for</code>循环的使用</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 案例一：考察系统变量 $* 和 $@ 的区别</span></span><br><span class="line"><span class="comment"># 在普通情况下 它们都是命令行参数的数组</span></span><br><span class="line"><span class="comment"># 在被双引号包裹的情况下 前者为字符串 后者为数组</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -eq 0 ]; <span class="keyword">then</span>                <span class="comment"># 要求命令行传入参数用于遍历</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;usage: <span class="variable">$0</span> arg1 arg2 ...&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">i=1</span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> $*; <span class="keyword">do</span>      <span class="comment"># 第一种情况：不加引号的 $* 将分行打印</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$i</span>: <span class="variable">$e</span>&quot;</span></span><br><span class="line">    i=$((i + <span class="number">1</span>))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">i=1</span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> <span class="variable">$@</span>; <span class="keyword">do</span>      <span class="comment"># 第二种情况：不加引号的 $@ 将分行打印</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$i</span>: <span class="variable">$e</span>&quot;</span></span><br><span class="line">    i=$((i + <span class="number">1</span>))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">i=1</span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> <span class="string">&quot;$*&quot;</span>; <span class="keyword">do</span>    <span class="comment"># 第三种情况：加了引号的 $* 将作为单个字符串打印</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$i</span>: <span class="variable">$e</span>&quot;</span></span><br><span class="line">    i=$((i + <span class="number">1</span>))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">i=1</span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span>; <span class="keyword">do</span>    <span class="comment"># 第四种情况：加了引号的 $@ 仍为一数组</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$i</span>: <span class="variable">$e</span>&quot;</span></span><br><span class="line">    i=$((i + <span class="number">1</span>))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 案例二：利用 for 循环的第二种格式进行求和</span></span><br><span class="line"></span><br><span class="line">SUM=0</span><br><span class="line"><span class="keyword">for</span> ((i=<span class="number">1</span>; i &lt;= <span class="number">100</span>; i++)); <span class="keyword">do</span></span><br><span class="line">    SUM=$((SUM + i))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;SUM = <span class="variable">$SUM</span>&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>对于案例一，可以如下解释</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> <span class="string">&quot;arg1 arg2 arg3&quot;</span> <span class="string">&quot;arg4&quot;</span> <span class="string">&quot;arg5 arg6&quot;</span> <span class="string">&quot;arg7&quot;</span>; <span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="variable">$e</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>对于默认情况下都是数组的<code>$*</code>和<code>$@</code></p>
<ul>
<li>前者加上引号后即成为内含有空格的单个字符串，放在<code>for</code>循环中相当于列表中只有一个元素</li>
<li>后者仍为一个有多个元素的数组</li>
</ul>
</blockquote>
<h5 id="四、循环语句while"><a href="#四、循环语句while" class="headerlink" title="四、循环语句while"></a>四、循环语句<code>while</code></h5><ul>
<li><p><strong>格式</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> [ condition ]; <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p><strong>例 计算三位数的水仙花数</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line">i=100</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -lt 1000 ]; <span class="keyword">do</span></span><br><span class="line">   ii=<span class="variable">$i</span>             <span class="comment"># 拷贝原数</span></span><br><span class="line">   i1=$((ii % <span class="number">10</span>))   <span class="comment"># 求个位数字</span></span><br><span class="line">   ((ii /= <span class="number">10</span>))     </span><br><span class="line">   i2=$((ii % <span class="number">10</span>))   <span class="comment"># 求十位数字</span></span><br><span class="line">   ((ii /= <span class="number">10</span>))      <span class="comment"># 此时 ii 即百位数字</span></span><br><span class="line">   <span class="built_in">sum</span>=$((i1 ** <span class="number">3</span> + i2 ** <span class="number">3</span> + ii ** <span class="number">3</span>))</span><br><span class="line">   <span class="keyword">if</span> [ <span class="variable">$sum</span> -eq <span class="variable">$i</span> ]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line">   <span class="keyword">fi</span></span><br><span class="line">   ((i++))</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="五、循环语句until"><a href="#五、循环语句until" class="headerlink" title="五、循环语句until"></a>五、循环语句<code>until</code></h5><ul>
<li><p><strong>格式</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">until [ condition ]; <span class="keyword">do</span>   <span class="comment"># 只到满足条件才退出循环</span></span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p><strong>例 计算阶乘(不考虑大数)</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -ne 1 ]; <span class="keyword">then</span>    <span class="comment"># 命令行传入一个数 n</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;usage: <span class="variable">$0</span> num&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">i=1</span><br><span class="line">ANS=1</span><br><span class="line">until [ <span class="variable">$i</span> -gt <span class="variable">$1</span> ]; <span class="keyword">do</span>  <span class="comment"># 在 i &gt; n 之前都继续循环</span></span><br><span class="line">    ANS=$((ANS * i))</span><br><span class="line">    i=$((i + <span class="number">1</span>))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ANS = <span class="variable">$ANS</span>&quot;</span></span><br></pre></td></tr></table></figure>
<h5 id="break和continue"><a href="#break和continue" class="headerlink" title="break和continue"></a><code>break</code>和<code>continue</code></h5><p>这两条控制语句用法同 C。此外，可以在其后跟上一个数字 n，表示连续跳出 n 重循环或从 n 重之外的循环继续执行。</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://pan-pan-pan.github.io">Chou</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://pan-pan-pan.github.io/2023/01/15/SP02/">http://pan-pan-pan.github.io/2023/01/15/SP02/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://pan-pan-pan.github.io" target="_blank">Riccardo's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/background.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/01/15/SP03/"><img class="prev-cover" src="/img/background.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Linux 系统编程｜文件</div></div></a></div><div class="next-post pull-right"><a href="/2023/01/15/SP01/"><img class="next-cover" src="/img/background.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Linux 系统编程｜概述</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux-%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B"><span class="toc-text">Linux 系统编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E8%A1%A5%E5%85%85%E4%B8%8E%E8%BF%9B%E9%98%B6"><span class="toc-text">第二章 补充与进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">2.1 Linux 常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%EF%BC%9A%E6%A0%B9%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-text">补充：根目录结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">一、文件系统相关命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%97%E5%87%BA%E5%86%85%E5%AE%B9"><span class="toc-text">列出内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95"><span class="toc-text">查看当前目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95"><span class="toc-text">创建目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95"><span class="toc-text">切换工作目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%A9%BA%E7%9B%AE%E5%BD%95"><span class="toc-text">删除空目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D"><span class="toc-text">拷贝</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4"><span class="toc-text">删除</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-text">二、文件处理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6"><span class="toc-text">创建文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-text">查看文件内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E5%B1%8F%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6"><span class="toc-text">分屏查看文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%96%E9%A6%96%E5%B0%BE-n-%E8%A1%8C%E5%86%85%E5%AE%B9"><span class="toc-text">取首尾 n 行内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E6%96%87%E6%9C%AC"><span class="toc-text">统计文本</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%93%BE%E6%8E%A5"><span class="toc-text">创建链接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%91%BD%E5%90%8D%E7%AE%A1%E9%81%93"><span class="toc-text">创建命名管道</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-text">三、权限管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%9D%83%E9%99%90"><span class="toc-text">修改权限</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%89%80%E6%9C%89%E8%80%85"><span class="toc-text">修改文件所有者</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%89%80%E5%B1%9E%E7%BB%84"><span class="toc-text">修改文件所属组</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%90%9C%E7%B4%A2%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">四、搜索相关命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6"><span class="toc-text">查找文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4%E6%89%80%E5%9C%A8%E7%9B%AE%E5%BD%95%E5%8F%8A%E5%88%AB%E5%90%8D%E4%BF%A1%E6%81%AF"><span class="toc-text">查看命令所在目录及别名信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4%E6%89%80%E5%9C%A8%E4%BD%8D%E7%BD%AE%E5%8F%8A%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3%E8%B7%AF%E5%BE%84"><span class="toc-text">查看命令所在位置及帮助文档路径</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E6%90%9C%E7%B4%A2-%E8%BF%87%E6%BB%A4"><span class="toc-text">文本搜索(过滤)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4"><span class="toc-text">五、帮助命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E6%A1%A3"><span class="toc-text">查看文档</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%AE%80%E4%BB%8B"><span class="toc-text">获取简介</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF"><span class="toc-text">查看详细信息</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-text">六、用户管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7"><span class="toc-text">添加用户</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81"><span class="toc-text">修改密码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">查看登录用户信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF"><span class="toc-text">查看登录用户详细信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%8E%86%E5%8F%B2%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF"><span class="toc-text">查看历史登录信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7"><span class="toc-text">切换用户</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E5%8E%8B%E7%BC%A9%E4%B8%8E%E8%A7%A3%E5%8E%8B%E7%BC%A9%E5%91%BD%E4%BB%A4"><span class="toc-text">七、压缩与解压缩命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9"><span class="toc-text">压缩</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E5%8E%8B%E7%BC%A9"><span class="toc-text">解压缩</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BD%92%E6%A1%A3"><span class="toc-text">归档</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">八、网络相关命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E4%BF%A1%E6%81%AF"><span class="toc-text">发送信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD"><span class="toc-text">广播</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E7%BD%91%E7%BB%9C%E8%BF%9E%E9%80%9A%E6%80%A7"><span class="toc-text">测试网络连通性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%92%8C%E8%AE%BE%E7%BD%AE%E7%BD%91%E5%8D%A1%E4%BF%A1%E6%81%AF"><span class="toc-text">查看和设置网卡信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E4%BF%A1%E6%81%AF"><span class="toc-text">查看网络信息</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">九、系统相关命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4"><span class="toc-text">打印当前时间</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E6%97%A5%E5%8E%86"><span class="toc-text">打印日历</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E6%9C%BA"><span class="toc-text">关机</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AB%8B%E5%8D%B3%E5%85%B3%E6%9C%BA"><span class="toc-text">立即关机</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AB%8B%E5%8D%B3%E9%87%8D%E5%90%AF"><span class="toc-text">立即重启</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-vim-%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-text">2.2 vim 编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81vim-%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F%E5%8F%8A%E5%85%B6%E5%88%87%E6%8D%A2"><span class="toc-text">一、vim 的四种模式及其切换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%99%AE%E9%80%9A%E6%A8%A1%E5%BC%8F"><span class="toc-text">二、普通模式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8"><span class="toc-text">光标移动</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BF%BB%E5%B1%8F"><span class="toc-text">翻屏</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E5%BF%AB%E9%80%9F%E6%93%8D%E4%BD%9C"><span class="toc-text">文本快速操作</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6"><span class="toc-text">复制</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%89%AA%E5%88%87-%E5%88%A0%E9%99%A4"><span class="toc-text">剪切(删除)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%B2%98%E8%B4%B4"><span class="toc-text">粘贴</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%92%A4%E9%94%80%E4%B8%8E%E9%87%8D%E5%81%9A"><span class="toc-text">撤销与重做</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-text">二、命令模式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE"><span class="toc-text">查找</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2"><span class="toc-text">替换</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A8%A1%E5%BC%8F"><span class="toc-text">三、可视化模式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-gcc-%E7%BC%96%E8%AF%91%E5%99%A8"><span class="toc-text">2.3 gcc 编译器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%9A%84%E7%BC%96%E8%AF%91%E9%80%89%E9%A1%B9"><span class="toc-text">基本的编译选项</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-%E7%BC%96%E5%86%99%E9%9D%99%E6%80%81%E5%BA%93%E6%BA%90%E4%BB%A3%E7%A0%81%E5%92%8C%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F"><span class="toc-text">1. 编写静态库源代码和测试程序</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-%E7%BC%96%E8%AF%91%E5%B9%B6%E7%94%9F%E6%88%90%E9%9D%99%E6%80%81%E5%BA%93"><span class="toc-text">2. 编译并生成静态库</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-%E9%93%BE%E6%8E%A5%E9%9D%99%E6%80%81%E5%BA%93"><span class="toc-text">3. 链接静态库</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%BA%93"><span class="toc-text">动态库</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-%E7%BC%96%E5%86%99%E5%8A%A8%E6%80%81%E5%BA%93%E6%BA%90%E4%BB%A3%E7%A0%81%E5%92%8C%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F"><span class="toc-text">1. 编写动态库源代码和测试程序</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-%E7%BC%96%E8%AF%91%E5%B9%B6%E7%94%9F%E6%88%90%E5%8A%A8%E6%80%81%E5%BA%93"><span class="toc-text">2. 编译并生成动态库</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-%E6%8C%87%E6%98%8E%E5%8A%A8%E6%80%81%E5%BA%93%E7%9A%84%E4%BD%8D%E7%BD%AE"><span class="toc-text">3. 指明动态库的位置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-%E9%93%BE%E6%8E%A5%E5%8A%A8%E6%80%81%E5%BA%93"><span class="toc-text">4. 链接动态库</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%EF%BC%9A%E9%9D%99%E6%80%81%E5%BA%93%E4%B8%8E%E5%8A%A8%E6%80%81%E5%BA%93%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">补充：静态库与动态库的区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-make-%E5%B7%A5%E5%85%B7"><span class="toc-text">2.4 make 工具</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-text">项目结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BA%90%E4%BB%A3%E7%A0%81"><span class="toc-text">源代码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%96%E5%86%99-Makefile%EF%BC%8C%E6%8C%87%E6%98%8E%E6%96%87%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96%E6%80%A7"><span class="toc-text">编写 Makefile，指明文件之间的依赖性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%A7%E8%A1%8Cmake"><span class="toc-text">执行make</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-Shell-%E7%BC%96%E7%A8%8B"><span class="toc-text">2.5 Shell 编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80-Shell-%E6%A6%82%E8%BF%B0"><span class="toc-text">(一)Shell 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E3%80%81Shell-%E7%9A%84%E4%B8%A4%E9%87%8D%E5%90%AB%E4%B9%89"><span class="toc-text">一、Shell 的两重含义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Shell-%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">二、Shell 的分类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E3%80%81Shell-%E8%84%9A%E6%9C%AC%E7%9A%84%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8F"><span class="toc-text">三、Shell 脚本的执行方式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C-echo%E4%B8%8E%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-text">(二)echo与格式化输入输出</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E3%80%81echo"><span class="toc-text">一、echo</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E8%87%AA%E5%8A%A8%E6%8D%A2%E8%A1%8C"><span class="toc-text">打印字符串，自动换行</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%90%AF%E7%94%A8%E6%88%96%E5%85%B3%E9%97%AD%E8%BD%AC%E4%B9%89"><span class="toc-text">启用或关闭转义</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8F%96%E6%B6%88%E8%87%AA%E5%8A%A8%E6%8D%A2%E8%A1%8C"><span class="toc-text">取消自动换行</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC"><span class="toc-text">打印变量的值</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C"><span class="toc-text">打印命令执行结果</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E3%80%81printf"><span class="toc-text">二、printf</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89-Bash-%E5%B8%B8%E8%A7%81%E5%8A%9F%E8%83%BD"><span class="toc-text">(三)Bash 常见功能</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4%E4%B8%8E%E5%91%BD%E4%BB%A4%E8%A1%A5%E5%85%A8"><span class="toc-text">一、历史命令与命令补全</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%91%BD%E4%BB%A4%E5%88%AB%E5%90%8D"><span class="toc-text">二、命令别名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">三、重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">标准输出重定向</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E9%94%99%E8%AF%AF%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">标准错误重定向</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%90%8C%E6%97%B6%E9%87%8D%E5%AE%9A%E5%90%91%E6%AD%A3%E8%AF%AF%E8%BE%93%E5%87%BA"><span class="toc-text">同时重定向正误输出</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%A4%9A%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C"><span class="toc-text">四、多命令执行</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B-%E5%8F%98%E9%87%8F"><span class="toc-text">(四)变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%8F%98%E9%87%8F%E5%8F%8A%E5%85%B6%E5%88%86%E7%B1%BB"><span class="toc-text">一、变量及其分类</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">1. 环境变量</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="toc-text">2. 系统变量</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-text">3. 用户自定义变量</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E7%AE%97%E6%95%B0%E4%B8%8E%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="toc-text">二、算数与逻辑运算</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">1. 运算符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-%E6%95%B4%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-text">2. 整数运算</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-expr%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">3. expr表达式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-%E6%B5%AE%E7%82%B9%E8%BF%90%E7%AE%97%E7%9A%84-bc-%E5%B7%A5%E5%85%B7"><span class="toc-text">4. 浮点运算的 bc 工具</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%94-%E6%8E%A7%E5%88%B6%E6%B5%81"><span class="toc-text">(五)控制流</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-text">常见的条件判断</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5if"><span class="toc-text">一、条件判断语句if</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%9D%A1%E4%BB%B6%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5case"><span class="toc-text">二、条件分支语句case</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5for"><span class="toc-text">三、循环语句for</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5while"><span class="toc-text">四、循环语句while</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5until"><span class="toc-text">五、循环语句until</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#break%E5%92%8Ccontinue"><span class="toc-text">break和continue</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Chou</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div></div></body></html>